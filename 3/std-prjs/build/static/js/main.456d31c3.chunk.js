(this["webpackJsonpstd-prjs"]=this["webpackJsonpstd-prjs"]||[]).push([[0],{120:function(e,t,n){e.exports={card:"Card_card__1jhAs"}},121:function(e,t,n){e.exports={searchable:"Searchable_searchable__3Ql2Q"}},122:function(e,t,n){e.exports={"student-card":"Student_student-card__3PFtY"}},123:function(e,t,n){e.exports={button:"Button_button__1hbQz"}},124:function(e,t,n){e.exports={button:"SendMessage_button__1HAUT"}},134:function(e,t,n){},135:function(e,t,n){},146:function(e,t){},148:function(e,t){},159:function(e,t){},161:function(e,t){},186:function(e,t){},188:function(e,t){},189:function(e,t){},194:function(e,t){},196:function(e,t){},202:function(e,t){},204:function(e,t){},21:function(e,t,n){e.exports={"group-entry":"Group_group-entry__RTkxp","group-card":"Group_group-card__ZIRFf","group-member":"Group_group-member__201cl"}},223:function(e,t){},235:function(e,t){},238:function(e,t){},242:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),c=n(118),u=n.n(c),i=(n(134),n(14)),o=n(7),a=(n(135),n(0)),d=function(e){return Object(a.jsx)("div",{children:e.elems})},j=n(119),l=n.n(j),b=function(e){var t=l.a.generate();return Object(a.jsxs)("div",{className:"search",children:[Object(a.jsx)("label",{htmlFor:t,children:e.text}),Object(a.jsx)("input",{id:t,onChange:function(t){return e.onFilterUpdate(t.target.value.trim())}})]})},p=n(120),h=n.n(p),m=function(e){return Object(a.jsx)("div",{className:"".concat(h.a.card," ").concat(e.className),children:e.children})},O=n(121),x=n.n(O),f=function(e,t,n){return function(s){var c=Object(r.useState)(""),u=Object(o.a)(c,2),i=u[0],j=u[1],l=s.elems.filter((function(e){return t(e).some((function(e){return e.includes(i)}))})).map(n);return Object(a.jsxs)(m,{className:x.a.searchable,children:[Object(a.jsx)(b,{text:e,onFilterUpdate:j}),Object(a.jsx)(d,{elems:l})]})}},g=n(122),v=n.n(g),S=function(e){var t=e.student;return Object(a.jsxs)(m,{className:v.a["student-card"],children:[Object(a.jsx)("h2",{children:t.name}),Object(a.jsx)("p",{children:t.description}),Object(a.jsxs)("p",{children:["Tags: ",t.tags]}),Object(a.jsxs)("p",{children:["Subjects: ",t.subjects]})]})},N=n(13),_=n(123),y=n.n(_),F=function(e){return Object(a.jsx)("button",{type:e.type||"button",className:"".concat(y.a.button," ").concat(e.className),onClick:e.onClick,disabled:e.disabled,children:e.children})},w=n(124),C=n.n(w),k=function(e){return Object(a.jsx)(N.b,{to:"/".concat(e.type,"/").concat(e.to,"/send"),children:Object(a.jsx)(F,{className:"".concat(C.a.button," ").concat(e.className)})})},G=function(e){return[e.description].concat(Object(i.a)(e.tags),Object(i.a)(e.subjects))},q=f("Find students",G,(function(e,t){return Object(a.jsxs)(m,{children:[Object(a.jsx)(S,{student:e}),Object(a.jsx)(k,{type:"student",to:t})]},"student-"+t)})),D=n(21),R=n.n(D),E=function(e){return Object(a.jsxs)(m,{className:R.a["group-member"],children:[Object(a.jsxs)("h2",{children:["Role: ",e.role]}),Object(a.jsx)(S,{student:e.student})]})},I=function(e){var t=e.group;return Object(a.jsxs)(m,{className:R.a["group-card"],children:[Object(a.jsxs)("h1",{children:["Group: ",t.name]}),Object(a.jsx)(m,{children:Object(a.jsx)("p",{children:t.description})}),Object(a.jsxs)(m,{children:[Object(a.jsx)("h2",{children:"Members"}),t.members.map((function(t,n){return Object(a.jsx)(E,{role:t.role,student:t.student},"group-".concat(e.i,"-student-").concat(n))}))]}),Object(a.jsx)("p",{children:t.subject})]})},A=f("Find groups:",(function(e){return[e.name,e.description,e.subject].concat(Object(i.a)(e.members.flatMap((function(e){return[e.role].concat(Object(i.a)(G(e.student)))}))))}),(function(e,t){return Object(a.jsxs)(m,{className:R.a["group-entry"],children:[Object(a.jsx)(I,{group:e,i:t}),Object(a.jsx)(k,{className:R.a["send-message-button"],type:"group",to:t})]},"group-"+t)})),M=function(){return Object(a.jsx)("nav",{children:Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:Object(a.jsx)(N.b,{to:"/add",children:Object(a.jsx)("button",{children:"Add Student/Group"})})}),Object(a.jsx)("li",{children:Object(a.jsx)(N.b,{to:"/students",children:Object(a.jsx)("button",{children:"Students"})})}),Object(a.jsx)("li",{children:Object(a.jsx)(N.b,{to:"/groups",children:Object(a.jsx)("button",{children:"Groups"})})})]})})},T=n(125),H=n(126),J=n(128),P=n(127),B=function(e){var t=[Object(r.useRef)(),Object(r.useRef)(),Object(r.useRef)(),Object(r.useRef)(),Object(r.useRef)()],n=t[0],s=t[1],c=t[2],u=t[3],i=t[4];return Object(a.jsxs)("form",{onSubmit:function(t){t.preventDefault();var r={name:n.current.value,email:s.current.value,description:c.current.value,tags:u.current.value.split(),subjects:i.current.value.split()};console.log(r),e.onNewStudent(r)},children:[Object(a.jsx)("label",{htmlFor:"student-name",children:"Name:"}),Object(a.jsx)("input",{id:"student-name",type:"text",ref:n,required:!0}),Object(a.jsx)("label",{htmlFor:"student-email",children:"Email:"}),Object(a.jsx)("input",{id:"student-email",type:"email",ref:s,required:!0}),Object(a.jsx)("label",{htmlFor:"student-description",children:"Description:"}),Object(a.jsx)("textarea",{id:"student-description",rows:"5",ref:c,required:!0}),Object(a.jsx)("label",{htmlFor:"student-tags",children:"Tags:"}),Object(a.jsx)("input",{id:"student-tags",type:"text",ref:u,required:!0}),Object(a.jsx)("label",{htmlFor:"student-subjects",children:"Subjects:"}),Object(a.jsx)("input",{id:"student-subjects",type:"text",ref:i,required:!0}),Object(a.jsx)("button",{children:"Add the boi"})]})},Q=function(e){return Object(a.jsx)("select",{name:e.name,required:!0,children:e.options.map((function(t,n){return Object(a.jsx)("option",{value:n,children:t},e.name+"-select-"+n)}))})},U=function(e){Object(J.a)(n,e);var t=Object(P.a)(n);function n(e){var r;return Object(T.a)(this,n),(r=t.call(this,e)).submitHandler=function(e){e.preventDefault();var t=r.state,n=t.groupName,s=t.description,c=t.subject,u=t.members,i={name:n,description:s,subject:c,members:u};0!==u.length?r.props.onNewGroup(i):alert("Groups with no members are not allowed.")},r.addMember=function(e){r.state.members.length>=5?alert("Can't add another member."):0!==r.state.role.trim().length?(console.log(e),console.log(r.state.members),r.setState((function(t){return{members:[].concat(Object(i.a)(t.members),[{role:t.role,student:e}]),role:""}}))):alert("No role selected.")},r.state={groupName:"",description:"",subject:"",members:[],role:""},r}return Object(H.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("form",{onSubmit:this.submitHandler,children:[Object(a.jsx)("label",{htmlFor:"group-name",children:"Name:"}),Object(a.jsx)("input",{id:"group-name",type:"text",value:this.state.groupName,onChange:function(t){return e.setState({groupName:t.target.value})},required:!0}),Object(a.jsx)("label",{htmlFor:"group-description",children:"Description:"}),Object(a.jsx)("textarea",{id:"group-description",rows:"5",value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})},required:!0}),Object(a.jsx)("label",{htmlFor:"group-subject",children:"Subject:"}),Object(a.jsx)("input",{id:"group-subject",type:"text",value:this.state.subject,onChange:function(t){return e.setState({subject:t.target.value})},required:!0}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Current students"}),this.state.members.map((function(e,t){return Object(a.jsx)(E,{student:e.student,role:e.role},"member-"+t)}))]}),Object(a.jsx)("button",{children:"Add the boi"})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"radio_existing",children:"Choose existing"}),Object(a.jsx)("input",{id:"radio_existing",name:"existingOrNew",type:"radio",checked:this.state.addExisting,onChange:function(){return e.setState((function(e){return{addExisting:!0}}))}}),Object(a.jsx)("label",{htmlFor:"radio_new",children:"Create new"}),Object(a.jsx)("input",{id:"radio_new",name:"existingOrNew",type:"radio",checked:!this.state.addExisting,onChange:function(){return e.setState((function(e){return{addExisting:!1}}))}}),Object(a.jsx)("label",{htmlFor:"member-role",children:"Role:"}),Object(a.jsx)("input",{id:"member-role",type:"text",value:this.state.role,onChange:function(t){return e.setState({role:t.target.value})},required:!0}),this.state.addExisting?Object(a.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.addMember(e.props.students[+t.target.elements.selectedStudents.value])},children:[Object(a.jsx)(Q,{name:"selectedStudents",options:this.props.students.filter((function(t){return!e.state.members.map((function(e){return e.student})).includes(t)})).map((function(e){return"".concat(e.name,": ").concat(e.subjects)}))}),Object(a.jsx)("button",{children:"Add student"})]}):Object(a.jsx)(B,{onNewStudent:this.addMember})]})]})}}]),n}(s.a.Component),z=function(e){var t,n=Object(r.useState)(null!==(t=e.selection)&&void 0!==t?t:null),s=Object(o.a)(n,2),c=s[0],u=s[1],i=null;return"student"===c?i=Object(a.jsx)(B,{onNewStudent:e.onNewStudent}):"group"===c&&(i=Object(a.jsx)(U,{onNewGroup:function(t){alert(JSON.stringify(t)),e.onNewGroup(t)},students:e.students})),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"radio_student",children:"Student"}),Object(a.jsx)("input",{id:"radio_student",name:"studentOrGroup",type:"radio",checked:"student"===c,onChange:function(){return u("student")}}),Object(a.jsx)("label",{htmlFor:"radio_group",children:"Group"}),Object(a.jsx)("input",{id:"radio_group",name:"studentOrGroup",type:"radio",checked:"group"===c,onChange:function(){return u("group")}}),i]})},L=n(3),W=n(63),Y=n.n(W),Z=function(e){var t=e.text;return Object(a.jsx)("div",{style:{backgroundColor:"red"},children:t})},K=function(e){var t=e.text,n=e.duration,s=e.show,c=e.onClear;return Object(r.useEffect)((function(){s&&setTimeout((function(){c()}),n)}),[n,s,c]),Y.a.createPortal(s&&Object(a.jsx)(Z,{text:t}),document.getElementById("popup-holder"))},V=function(e){var t=Object(L.h)(),n=t.type,s=t.id,c=Object(r.useState)(""),u=Object(o.a)(c,2),i=u[0],d=u[1],j=Object(r.useState)(!1),l=Object(o.a)(j,2),b=l[0],p=l[1],h=null;switch(n){case"student":h=Object(a.jsx)(S,{student:e.students[+s]});break;case"group":h=Object(a.jsx)(I,{group:e.groups[+s]})}return Object(a.jsxs)("div",{children:[Object(a.jsx)(K,{text:"OH SHIDDDD",duration:"1000",show:b,onClear:function(){return p(!1)}}),Object(a.jsx)("div",{children:h}),Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p(!0)},children:[Object(a.jsx)("textarea",{id:"group-description",rows:"5",value:i,onChange:function(e){d(e.target.value)},required:!0}),Object(a.jsx)("button",{children:"Send"})]})]})},X=[{name:"bobby el dorade",email:"hotstud-ent@hotmail.ru",description:"some shitty description",tags:["retard"],subjects:["dupa"]},{name:"pissmeister",email:"grindset@binky.biz",description:"another one",tags:["dddd"],subjects:["asd"]}],$=[{name:"gruppe sechs",members:[{student:X[0],role:"smoothster"},{student:X[1],role:"serial killer"}],description:"suicide fun-cult, fun suicide cult",subject:"alchemy"}],ee=function(e,t){var n,s=Object(r.useState)(null!==(n=JSON.parse(localStorage.getItem(e)))&&void 0!==n?n:t),c=Object(o.a)(s,2),u=c[0],a=c[1];return[u,function(t){return a((function(n){var r=[].concat(Object(i.a)(n),[t]);return localStorage.setItem(e,JSON.stringify(r)),r}))}]};var te=function(){var e=Object(L.g)(),t=ee("students",X),n=Object(o.a)(t,2),r=n[0],s=n[1],c=ee("groups",$),u=Object(o.a)(c,2),i=u[0],d=u[1],j=function(t,n){return function(r){t(r),e(n)}};return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(M,{}),Object(a.jsxs)(L.d,{children:[Object(a.jsx)(L.b,{path:"/students",element:Object(a.jsx)(q,{elems:r})}),Object(a.jsx)(L.b,{path:"/groups",element:Object(a.jsx)(A,{elems:i})}),Object(a.jsx)(L.b,{path:"/add",element:Object(a.jsx)(z,{onNewStudent:j(s,"/students"),onNewGroup:j(d,"/groups"),students:r})}),Object(a.jsx)(L.b,{path:"/:type/:id/send",element:Object(a.jsx)(V,{students:r,groups:i})}),Object(a.jsx)(L.b,{exact:!0,path:"/",element:Object(a.jsx)(L.a,{replace:!0,to:"/students"})})]})]})},ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,243)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,c=t.getLCP,u=t.getTTFB;n(e),r(e),s(e),c(e),u(e)}))};u.a.createRoot(document.getElementById("root")).render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(N.a,{basename:"/PIWbois/3/std-prjs/build/",children:Object(a.jsx)(te,{})})})),ne()}},[[242,1,2]]]);
//# sourceMappingURL=main.456d31c3.chunk.js.map
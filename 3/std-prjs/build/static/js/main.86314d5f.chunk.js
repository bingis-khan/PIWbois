(this["webpackJsonpstd-prjs"]=this["webpackJsonpstd-prjs"]||[]).push([[0],{128:function(e,t,n){},129:function(e,t,n){},140:function(e,t){},142:function(e,t){},153:function(e,t){},155:function(e,t){},180:function(e,t){},182:function(e,t){},183:function(e,t){},188:function(e,t){},190:function(e,t){},196:function(e,t){},198:function(e,t){},217:function(e,t){},229:function(e,t){},232:function(e,t){},236:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),c=n(117),i=n.n(c),u=(n(128),n(14)),o=n(7),d=(n(129),n(0)),a=function(e){return Object(d.jsx)("div",{children:e.elems})},j=n(118),l=n.n(j),b=function(e){var t=l.a.generate();return Object(d.jsxs)("div",{className:"search",children:[Object(d.jsx)("label",{htmlFor:t,children:e.text}),Object(d.jsx)("input",{id:t,onChange:function(t){return e.onFilterUpdate(t.target.value.trim())}})]})},O=function(e,t,n){return function(s){var c=Object(r.useState)(""),i=Object(o.a)(c,2),u=i[0],j=i[1],l=s.elems.filter((function(e){return t(e).some((function(e){return e.includes(u)}))})).map(n);return Object(d.jsxs)("div",{children:[Object(d.jsx)(b,{text:e,onFilterUpdate:j}),Object(d.jsx)(a,{elems:l})]})}},p=function(e){var t=e.student;return Object(d.jsxs)("div",{className:"profile",children:[Object(d.jsx)("p",{children:t.description}),Object(d.jsx)("p",{children:t.tags}),Object(d.jsx)("p",{children:t.subjects})]})},h=n(13),x=function(e){return Object(d.jsx)(h.b,{to:"/".concat(e.type,"/").concat(e.to,"/send"),children:Object(d.jsx)("button",{children:"Send message"})})},m=function(e){return[e.description].concat(Object(u.a)(e.tags),Object(u.a)(e.subjects))},f=O("Find students",m,(function(e,t){return Object(d.jsxs)("div",{children:[Object(d.jsx)(p,{student:e}),Object(d.jsx)(x,{type:"student",to:t})]},"student-"+t)})),g=function(e){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:e.role}),Object(d.jsx)(p,{student:e.student})]})},v=function(e){var t=e.group;return Object(d.jsxs)("div",{className:"profile",children:[Object(d.jsx)("p",{children:t.name}),Object(d.jsx)("p",{children:t.description}),Object(d.jsx)("div",{children:t.members.map((function(t,n){return Object(d.jsx)(g,{role:t.role,student:t.student},"group-".concat(e.i,"-student-").concat(n))}))}),Object(d.jsx)("p",{children:t.subject})]})},S=O("Find groups:",(function(e){return[e.name,e.description,e.subject].concat(Object(u.a)(e.members.flatMap((function(e){return[e.role].concat(Object(u.a)(m(e.student)))}))))}),(function(e,t){return Object(d.jsxs)("div",{children:[Object(d.jsx)(v,{group:e,i:t}),Object(d.jsx)(x,{type:"group",to:t})]},"group-"+t)})),y=function(){return Object(d.jsx)("nav",{children:Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(h.b,{to:"/add",children:Object(d.jsx)("button",{children:"Add Student/Group"})})}),Object(d.jsx)("li",{children:Object(d.jsx)(h.b,{to:"/students",children:Object(d.jsx)("button",{children:"Students"})})}),Object(d.jsx)("li",{children:Object(d.jsx)(h.b,{to:"/groups",children:Object(d.jsx)("button",{children:"Groups"})})})]})})},N=n(119),w=n(120),F=n(122),C=n(121),k=function(e){var t=[Object(r.useRef)(),Object(r.useRef)(),Object(r.useRef)(),Object(r.useRef)(),Object(r.useRef)()],n=t[0],s=t[1],c=t[2],i=t[3],u=t[4];return Object(d.jsxs)("form",{onSubmit:function(t){t.preventDefault();var r={name:n.current.value,email:s.current.value,description:c.current.value,tags:i.current.value.split(),subjects:u.current.value.split()};console.log(r),e.onNewStudent(r)},children:[Object(d.jsx)("label",{htmlFor:"student-name",children:"Name:"}),Object(d.jsx)("input",{id:"student-name",type:"text",ref:n,required:!0}),Object(d.jsx)("label",{htmlFor:"student-email",children:"Email:"}),Object(d.jsx)("input",{id:"student-email",type:"email",ref:s,required:!0}),Object(d.jsx)("label",{htmlFor:"student-description",children:"Description:"}),Object(d.jsx)("textarea",{id:"student-description",rows:"5",ref:c,required:!0}),Object(d.jsx)("label",{htmlFor:"student-tags",children:"Tags:"}),Object(d.jsx)("input",{id:"student-tags",type:"text",ref:i,required:!0}),Object(d.jsx)("label",{htmlFor:"student-subjects",children:"Subjects:"}),Object(d.jsx)("input",{id:"student-subjects",type:"text",ref:u,required:!0}),Object(d.jsx)("button",{children:"Add the boi"})]})},q=function(e){return Object(d.jsx)("select",{name:e.name,required:!0,children:e.options.map((function(t,n){return Object(d.jsx)("option",{value:n,children:t},e.name+"-select-"+n)}))})},D=function(e){Object(F.a)(n,e);var t=Object(C.a)(n);function n(e){var r;return Object(N.a)(this,n),(r=t.call(this,e)).submitHandler=function(e){e.preventDefault();var t=r.state,n=t.groupName,s=t.description,c=t.subject,i=t.members,u={name:n,description:s,subject:c,members:i};0!==i.length?r.props.onNewGroup(u):alert("Groups with no members are not allowed.")},r.addMember=function(e){r.state.members.length>=5?alert("Can't add another member."):0!==r.state.role.trim().length?(console.log(e),console.log(r.state.members),r.setState((function(t){return{members:[].concat(Object(u.a)(t.members),[{role:t.role,student:e}]),role:""}}))):alert("No role selected.")},r.state={groupName:"",description:"",subject:"",members:[],role:""},r}return Object(w.a)(n,[{key:"render",value:function(){var e=this;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("form",{onSubmit:this.submitHandler,children:[Object(d.jsx)("label",{htmlFor:"group-name",children:"Name:"}),Object(d.jsx)("input",{id:"group-name",type:"text",value:this.state.groupName,onChange:function(t){return e.setState({groupName:t.target.value})},required:!0}),Object(d.jsx)("label",{htmlFor:"group-description",children:"Description:"}),Object(d.jsx)("textarea",{id:"group-description",rows:"5",value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})},required:!0}),Object(d.jsx)("label",{htmlFor:"group-subject",children:"Subject:"}),Object(d.jsx)("input",{id:"group-subject",type:"text",value:this.state.subject,onChange:function(t){return e.setState({subject:t.target.value})},required:!0}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Current students"}),this.state.members.map((function(e,t){return Object(d.jsx)(g,{student:e.student,role:e.role},"member-"+t)}))]}),Object(d.jsx)("button",{children:"Add the boi"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"radio_existing",children:"Choose existing"}),Object(d.jsx)("input",{id:"radio_existing",name:"existingOrNew",type:"radio",checked:this.state.addExisting,onChange:function(){return e.setState((function(e){return{addExisting:!0}}))}}),Object(d.jsx)("label",{htmlFor:"radio_new",children:"Create new"}),Object(d.jsx)("input",{id:"radio_new",name:"existingOrNew",type:"radio",checked:!this.state.addExisting,onChange:function(){return e.setState((function(e){return{addExisting:!1}}))}}),Object(d.jsx)("label",{htmlFor:"member-role",children:"Role:"}),Object(d.jsx)("input",{id:"member-role",type:"text",value:this.state.role,onChange:function(t){return e.setState({role:t.target.value})},required:!0}),this.state.addExisting?Object(d.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.addMember(e.props.students[+t.target.elements.selectedStudents.value])},children:[Object(d.jsx)(q,{name:"selectedStudents",options:this.props.students.filter((function(t){return!e.state.members.map((function(e){return e.student})).includes(t)})).map((function(e){return"".concat(e.name,": ").concat(e.subjects)}))}),Object(d.jsx)("button",{children:"Add student"})]}):Object(d.jsx)(k,{onNewStudent:this.addMember})]})]})}}]),n}(s.a.Component),G=function(e){var t,n=Object(r.useState)(null!==(t=e.selection)&&void 0!==t?t:null),s=Object(o.a)(n,2),c=s[0],i=s[1],u=null;return"student"===c?u=Object(d.jsx)(k,{onNewStudent:e.onNewStudent}):"group"===c&&(u=Object(d.jsx)(D,{onNewGroup:function(t){alert(JSON.stringify(t)),e.onNewGroup(t)},students:e.students})),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"radio_student",children:"Student"}),Object(d.jsx)("input",{id:"radio_student",name:"studentOrGroup",type:"radio",checked:"student"===c,onChange:function(){return i("student")}}),Object(d.jsx)("label",{htmlFor:"radio_group",children:"Group"}),Object(d.jsx)("input",{id:"radio_group",name:"studentOrGroup",type:"radio",checked:"group"===c,onChange:function(){return i("group")}}),u]})},E=n(3),_=n(62),R=n.n(_),I=function(e){var t=e.text;return Object(d.jsx)("div",{style:{backgroundColor:"red"},children:t})},A=function(e){var t=e.text,n=e.duration,s=e.show,c=e.onClear;return Object(r.useEffect)((function(){s&&setTimeout((function(){c()}),n)}),[n,s,c]),R.a.createPortal(s&&Object(d.jsx)(I,{text:t}),document.getElementById("popup-holder"))},J=function(e){var t=Object(E.h)(),n=t.type,s=t.id,c=Object(r.useState)(""),i=Object(o.a)(c,2),u=i[0],a=i[1],j=Object(r.useState)(!1),l=Object(o.a)(j,2),b=l[0],O=l[1],h=null;switch(n){case"student":h=Object(d.jsx)(p,{student:e.students[+s]});break;case"group":h=Object(d.jsx)(v,{group:e.groups[+s]})}return Object(d.jsxs)("div",{children:[Object(d.jsx)(A,{text:"OH SHIDDDD",duration:"1000",show:b,onClear:function(){return O(!1)}}),Object(d.jsx)("div",{children:h}),Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),O(!0)},children:[Object(d.jsx)("textarea",{id:"group-description",rows:"5",value:u,onChange:function(e){a(e.target.value)},required:!0}),Object(d.jsx)("button",{children:"Send"})]})]})},M=[{name:"bobby el dorade",email:"hotstud-ent@hotmail.ru",description:"some shitty description",tags:["retard"],subjects:["dupa"]},{name:"pissmeister",email:"grindset@binky.biz",description:"another one",tags:["dddd"],subjects:["asd"]}],H=[{name:"gruppe sechs",members:[{student:M[0],role:"smoothster"},{student:M[1],role:"serial killer"}],description:"suicide fun-cult, fun suicide cult",subject:"alchemy"}],T=function(e,t){var n,s=Object(r.useState)(null!==(n=JSON.parse(localStorage.getItem(e)))&&void 0!==n?n:t),c=Object(o.a)(s,2),i=c[0],d=c[1];return[i,function(t){return d((function(n){var r=[].concat(Object(u.a)(n),[t]);return localStorage.setItem(e,JSON.stringify(r)),r}))}]};var B=function(){var e=T("students",M),t=Object(o.a)(e,2),n=t[0],r=t[1],s=T("groups",H),c=Object(o.a)(s,2),i=c[0],u=c[1];return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(y,{}),Object(d.jsxs)(E.d,{children:[Object(d.jsx)(E.b,{path:"/students",element:Object(d.jsx)(f,{elems:n})}),Object(d.jsx)(E.b,{path:"/groups",element:Object(d.jsx)(S,{elems:i})}),Object(d.jsx)(E.b,{path:"/add",element:Object(d.jsx)(G,{onNewStudent:r,onNewGroup:u,students:n})}),Object(d.jsx)(E.b,{path:"/:type/:id/send",element:Object(d.jsx)(J,{students:n,groups:i})}),Object(d.jsx)(E.b,{exact:!0,path:"/",element:Object(d.jsx)(E.a,{replace:!0,to:"/students"})})]})]})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,237)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),s(e),c(e),i(e)}))};i.a.createRoot(document.getElementById("root")).render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(h.a,{children:Object(d.jsx)(B,{})})})),P()}},[[236,1,2]]]);
//# sourceMappingURL=main.86314d5f.chunk.js.map
(this["webpackJsonpstd-prjs"]=this["webpackJsonpstd-prjs"]||[]).push([[0],{123:function(e,t,n){e.exports={searchbox:"Search_searchbox__4MGd5"}},124:function(e,t,n){e.exports={card:"Card_card__1jhAs"}},125:function(e,t,n){e.exports={searchable:"Searchable_searchable__3Ql2Q"}},126:function(e,t,n){e.exports={button:"Button_button__1hbQz"}},127:function(e,t,n){e.exports={nav:"Navigation_nav__1CuM1"}},130:function(e,t,n){e.exports={find:"Find_find__24pbm"}},131:function(e,t,n){e.exports={popup:"Popup_popup__1Xi_h"}},139:function(e,t,n){},140:function(e,t,n){},15:function(e,t,n){e.exports={choice:"Add_choice__bVlJf","add-group":"Add_add-group__3WoJs","current-members":"Add_current-members__sJN7F","select-student-type":"Add_select-student-type__DvwUs","select-role":"Add_select-role__2w3Xf","add-student":"Add_add-student__16eUm","find-student":"Add_find-student__WvaPH"}},151:function(e,t){},153:function(e,t){},164:function(e,t){},166:function(e,t){},191:function(e,t){},193:function(e,t){},194:function(e,t){},199:function(e,t){},201:function(e,t){},207:function(e,t){},209:function(e,t){},22:function(e,t,n){e.exports={"group-entry":"Group_group-entry__RTkxp","group-card":"Group_group-card__ZIRFf","group-member":"Group_group-member__201cl"}},228:function(e,t){},240:function(e,t){},243:function(e,t){},247:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n.n(s),r=n(121),u=n.n(r),i=(n(139),n(14)),a=n(5),o=(n(140),n(0)),d=function(e){return Object(o.jsx)("div",{children:e.elems})},j=n(122),l=n.n(j),b=n(123),p=n.n(b),h=n(124),m=n.n(h),x=function(e){return Object(o.jsx)("div",{className:"".concat(m.a.card," ").concat(e.className),children:e.children})},O=function(e){var t=l.a.generate();return Object(o.jsxs)(x,{className:p.a.searchbox,children:[Object(o.jsx)("label",{htmlFor:t,children:e.text}),Object(o.jsx)("input",{id:t,onChange:function(t){return e.onFilterUpdate(t.target.value.trim())}})]})},f=n(125),g=n.n(f),_=function(e,t,n){return function(c){var r=Object(s.useState)(""),u=Object(a.a)(r,2),i=u[0],j=u[1],l=c.elems.map((function(e,t){return[e,t]})).filter((function(e){var n=Object(a.a)(e,2),s=n[0];n[1];return t(s).some((function(e){return e.includes(i)}))})).map((function(e){var t=Object(a.a)(e,2),s=t[0],c=t[1];return n(s,c)}));return Object(o.jsxs)(x,{className:g.a.searchable,children:[Object(o.jsx)(O,{text:e,onFilterUpdate:j}),Object(o.jsx)(d,{elems:l})]})}},v=n(41),N=n.n(v),S=function(e){var t=e.student;return Object(o.jsxs)(x,{className:N.a["student-card"],children:[Object(o.jsx)("h2",{children:t.name}),Object(o.jsx)("p",{children:t.description}),Object(o.jsxs)("p",{children:["Tags: ",t.tags]}),Object(o.jsxs)("p",{children:["Subjects: ",t.subjects]})]})},y=n(13),F=n(126),w=n.n(F),C=function(e){return Object(o.jsx)("button",{type:e.type||"button",className:"".concat(w.a.button," ").concat(e.className),onClick:e.onClick,disabled:e.disabled,children:e.children})},A=n(42),G=n.n(A),k=function(e){return Object(o.jsx)(y.b,{to:"/".concat(e.type,"/").concat(e.to,"/send"),children:Object(o.jsx)(C,{className:"".concat(G.a.button," ").concat(e.className)})})},q=function(e){return[e.description].concat(Object(i.a)(e.tags),Object(i.a)(e.subjects))},M=_("Find students",q,(function(e,t){return Object(o.jsxs)(x,{className:N.a["student-entry"],children:[Object(o.jsx)(S,{student:e}),Object(o.jsx)(k,{type:"student",to:t})]},"student-"+t)})),R=n(22),D=n.n(R),E=function(e){return Object(o.jsxs)(x,{className:D.a["group-member"],children:[Object(o.jsxs)("h2",{children:["Role: ",e.role]}),Object(o.jsx)(S,{student:e.student})]})},J=function(e){var t=e.group;return Object(o.jsxs)(x,{className:D.a["group-card"],children:[Object(o.jsxs)("h1",{children:["Group: ",t.name]}),Object(o.jsx)(x,{children:Object(o.jsx)("p",{children:t.description})}),Object(o.jsxs)(x,{children:[Object(o.jsx)("h2",{children:"Members"}),t.members.map((function(t,n){return Object(o.jsx)(E,{role:t.role,student:t.student},"group-".concat(e.i,"-student-").concat(n))}))]}),Object(o.jsxs)(x,{children:[Object(o.jsx)("h2",{children:"Subject"}),Object(o.jsx)("p",{children:t.subject})]})]})},I=_("Find groups:",(function(e){return[e.name,e.description,e.subject].concat(Object(i.a)(e.members.flatMap((function(e){return[e.role].concat(Object(i.a)(q(e.student)))}))))}),(function(e,t){return Object(o.jsxs)(x,{className:D.a["group-entry"],children:[Object(o.jsx)(J,{group:e,i:t}),Object(o.jsx)(k,{className:D.a["send-message-button"],type:"group",to:t})]},"group-"+t)})),P=n(127),T=n.n(P),U=function(){return Object(o.jsx)("nav",{className:T.a.nav,children:Object(o.jsx)(x,{children:Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:Object(o.jsx)(y.b,{to:"/add",children:Object(o.jsx)("button",{children:"Add Student/Group"})})}),Object(o.jsx)("li",{children:Object(o.jsx)(y.b,{to:"/students",children:Object(o.jsx)("button",{children:"Students"})})}),Object(o.jsx)("li",{children:Object(o.jsx)(y.b,{to:"/groups",children:Object(o.jsx)("button",{children:"Groups"})})})]})})})},B=n(128),H=n(129),Q=n(133),W=n(132),z=n(15),L=n.n(z),X=function(e){var t=[Object(s.useRef)(),Object(s.useRef)(),Object(s.useRef)(),Object(s.useRef)(),Object(s.useRef)()],n=t[0],c=t[1],r=t[2],u=t[3],i=t[4];return Object(o.jsxs)("form",{className:L.a["add-student"],onSubmit:function(t){t.preventDefault();var s={name:n.current.value,email:c.current.value,description:r.current.value,tags:u.current.value.split(),subjects:i.current.value.split()};console.log(s),e.onNewStudent(s)},children:[Object(o.jsxs)(x,{children:[Object(o.jsx)("label",{htmlFor:"student-name",children:"Name:"}),Object(o.jsx)("input",{id:"student-name",type:"text",ref:n,required:!0})]}),Object(o.jsxs)(x,{children:[Object(o.jsx)("label",{htmlFor:"student-email",children:"Email:"}),Object(o.jsx)("input",{id:"student-email",type:"email",ref:c,required:!0})]}),Object(o.jsxs)(x,{children:[Object(o.jsx)("label",{htmlFor:"student-description",children:"Description:"}),Object(o.jsx)("br",{}),Object(o.jsx)("textarea",{id:"student-description",rows:"5",ref:r,required:!0})]}),Object(o.jsxs)(x,{children:[Object(o.jsx)("label",{htmlFor:"student-tags",children:"Tags:"}),Object(o.jsx)("input",{id:"student-tags",type:"text",ref:u,required:!0})]}),Object(o.jsxs)(x,{children:[Object(o.jsx)("label",{htmlFor:"student-subjects",children:"Subjects:"}),Object(o.jsx)("input",{id:"student-subjects",type:"text",ref:i,required:!0})]}),Object(o.jsx)("center",{children:Object(o.jsx)(C,{type:"submit",children:"Add student"})})]})},V=n(130),Y=n.n(V),Z=function(e){return Object(o.jsx)("select",{className:"".concat(Y.a.find," ").concat(e.className),name:e.name,required:!0,children:e.options.map((function(t,n){return Object(o.jsx)("option",{value:n,children:t},e.name+"-select-"+n)}))})},K=function(e){Object(Q.a)(n,e);var t=Object(W.a)(n);function n(e){var s;return Object(B.a)(this,n),(s=t.call(this,e)).submitHandler=function(e){e.preventDefault();var t=s.state,n=t.groupName,c=t.description,r=t.subject,u=t.members,i={name:n,description:c,subject:r,members:u};0!==u.length?s.props.onNewGroup(i):alert("Groups with no members are not allowed.")},s.addMember=function(e){s.state.members.length>=5?alert("Can't add another member."):0!==s.state.role.trim().length?(console.log(e),console.log(s.state.members),s.setState((function(t){return{members:[].concat(Object(i.a)(t.members),[{role:t.role,student:e}]),role:""}}))):alert("A group member must have a role.")},s.state={groupName:"",description:"",subject:"",members:[],role:""},s}return Object(H.a)(n,[{key:"render",value:function(){var e=this;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("form",{className:L.a["add-group"],onSubmit:this.submitHandler,children:[Object(o.jsx)("center",{children:Object(o.jsx)(C,{children:"Create group"})}),Object(o.jsxs)(x,{children:[Object(o.jsx)("label",{htmlFor:"group-name",children:"Name:"}),Object(o.jsx)("input",{id:"group-name",type:"text",value:this.state.groupName,onChange:function(t){return e.setState({groupName:t.target.value})},required:!0})]}),Object(o.jsxs)(x,{children:[Object(o.jsx)("label",{htmlFor:"group-description",children:"Description:"}),Object(o.jsx)("br",{}),Object(o.jsx)("textarea",{id:"group-description",rows:"5",value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})},required:!0})]}),Object(o.jsxs)(x,{children:[Object(o.jsx)("label",{htmlFor:"group-subject",children:"Subject:"}),Object(o.jsx)("input",{id:"group-subject",type:"text",value:this.state.subject,onChange:function(t){return e.setState({subject:t.target.value})},required:!0})]}),Object(o.jsxs)(x,{className:L.a["current-members"],children:[Object(o.jsx)("h2",{children:"Current students"}),0===this.state.members.length?Object(o.jsx)("p",{children:"None"}):null,this.state.members.map((function(e,t){return Object(o.jsx)(E,{student:e.student,role:e.role},"member-"+t)}))]})]}),Object(o.jsxs)(x,{children:[Object(o.jsx)("h2",{children:"Add student to the group"}),Object(o.jsxs)(x,{className:L.a["select-student-type"],children:[Object(o.jsx)("label",{htmlFor:"radio_existing",children:"Choose existing"}),Object(o.jsx)("input",{id:"radio_existing",name:"existingOrNew",type:"radio",checked:this.state.addExisting,onChange:function(){return e.setState((function(e){return{addExisting:!0}}))}}),Object(o.jsx)("label",{htmlFor:"radio_new",children:"Create new"}),Object(o.jsx)("input",{id:"radio_new",name:"existingOrNew",type:"radio",checked:!this.state.addExisting,onChange:function(){return e.setState((function(e){return{addExisting:!1}}))}})]}),Object(o.jsxs)(x,{className:L.a["select-role"],children:[Object(o.jsx)("label",{htmlFor:"member-role",children:"Role:"}),Object(o.jsx)("input",{id:"member-role",type:"text",value:this.state.role,onChange:function(t){return e.setState({role:t.target.value})},required:!0})]}),this.state.addExisting?Object(o.jsxs)("form",{className:L.a["find-student"],onSubmit:function(t){t.preventDefault(),e.addMember(e.props.students[+t.target.elements.selectedStudents.value])},children:[Object(o.jsx)(Z,{name:"selectedStudents",options:this.props.students.filter((function(t){return!e.state.members.map((function(e){return e.student})).includes(t)})).map((function(e){return"".concat(e.name,": ").concat(e.subjects)}))}),Object(o.jsx)(C,{type:"submit",children:"Add student"})]}):Object(o.jsx)(X,{onNewStudent:this.addMember})]})]})}}]),n}(c.a.Component),$=function(e){var t,n=Object(s.useState)(null!==(t=e.selection)&&void 0!==t?t:null),c=Object(a.a)(n,2),r=c[0],u=c[1],i=null;return"student"===r?i=Object(o.jsx)(X,{onNewStudent:e.onNewStudent}):"group"===r&&(i=Object(o.jsx)(K,{onNewGroup:function(t){alert(JSON.stringify(t)),e.onNewGroup(t)},students:e.students})),Object(o.jsxs)(x,{children:[Object(o.jsxs)("center",{className:L.a.choice,children:[Object(o.jsx)("label",{htmlFor:"radio_student",children:"Student"}),Object(o.jsx)("input",{id:"radio_student",name:"studentOrGroup",type:"radio",checked:"student"===r,onChange:function(){return u("student")}}),Object(o.jsx)("label",{htmlFor:"radio_group",children:"Group"}),Object(o.jsx)("input",{id:"radio_group",name:"studentOrGroup",type:"radio",checked:"group"===r,onChange:function(){return u("group")}})]}),i]})},ee=n(3),te=n(66),ne=n.n(te),se=n(131),ce=n.n(se),re=function(e){var t=e.text;return Object(o.jsx)(x,{className:ce.a.popup,children:t})},ue=function(e){var t=e.text,n=e.duration,c=e.show,r=e.onClear;return Object(s.useEffect)((function(){c&&setTimeout((function(){r()}),n)}),[n,c,r]),ne.a.createPortal(c&&Object(o.jsx)(re,{text:t}),document.getElementById("popup-holder"))},ie=function(e){var t=Object(ee.h)(),n=t.type,c=t.id,r=Object(s.useState)(""),u=Object(a.a)(r,2),i=u[0],d=u[1],j=Object(s.useState)(!1),l=Object(a.a)(j,2),b=l[0],p=l[1],h=null;switch(n){case"student":h=Object(o.jsx)(S,{student:e.students[+c]});break;case"group":h=Object(o.jsx)(J,{group:e.groups[+c]})}return Object(o.jsxs)("div",{children:[Object(o.jsx)(ue,{text:"Message sent to ".concat(n,"."),duration:"2000",show:b,onClear:function(){return p(!1)}}),Object(o.jsxs)("center",{children:[Object(o.jsx)("div",{children:h}),Object(o.jsxs)("form",{className:G.a.form,onSubmit:function(e){e.preventDefault(),p(!0),d("")},children:[Object(o.jsx)("textarea",{id:"group-description",rows:"5",value:i,onChange:function(e){d(e.target.value)},required:!0}),Object(o.jsx)("br",{}),Object(o.jsx)(C,{type:"submit",children:"Send"})]})]})]})},ae=[{name:"bobby el dorade",email:"hotstud-ent@hotmail.ru",description:"some shitty description",tags:["retard"],subjects:["dupa"]},{name:"pissmeister",email:"grindset@binky.biz",description:"another one",tags:["dddd"],subjects:["asd"]}],oe=[{name:"gruppe sechs",members:[{student:ae[0],role:"smoothster"},{student:ae[1],role:"serial killer"}],description:"suicide fun-cult, fun suicide cult",subject:"alchemy"}],de=function(e,t){var n,c=Object(s.useState)(null!==(n=JSON.parse(localStorage.getItem(e)))&&void 0!==n?n:t),r=Object(a.a)(c,2),u=r[0],o=r[1];return[u,function(t){return o((function(n){var s=[].concat(Object(i.a)(n),[t]);return localStorage.setItem(e,JSON.stringify(s)),s}))}]};var je=function(){var e=Object(ee.g)(),t=de("students",ae),n=Object(a.a)(t,2),s=n[0],c=n[1],r=de("groups",oe),u=Object(a.a)(r,2),i=u[0],d=u[1],j=function(t,n){return function(s){t(s),e(n)}};return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)("header",{children:Object(o.jsx)(U,{})}),Object(o.jsx)("main",{children:Object(o.jsxs)(ee.d,{children:[Object(o.jsx)(ee.b,{path:"/students",element:Object(o.jsx)(M,{elems:s})}),Object(o.jsx)(ee.b,{path:"/groups",element:Object(o.jsx)(I,{elems:i})}),Object(o.jsx)(ee.b,{path:"/add",element:Object(o.jsx)($,{onNewStudent:j(c,"/students"),onNewGroup:j(d,"/groups"),students:s})}),Object(o.jsx)(ee.b,{path:"/:type/:id/send",element:Object(o.jsx)(ie,{students:s,groups:i})}),Object(o.jsx)(ee.b,{exact:!0,path:"/",element:Object(o.jsx)(ee.a,{replace:!0,to:"/students"})})]})})]})},le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,248)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,r=t.getLCP,u=t.getTTFB;n(e),s(e),c(e),r(e),u(e)}))};u.a.createRoot(document.getElementById("root")).render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(y.a,{basename:"/PIWbois/3/std-prjs/build/",children:Object(o.jsx)(je,{})})})),le()},41:function(e,t,n){e.exports={"student-card":"Student_student-card__3PFtY","student-entry":"Student_student-entry__2DRns"}},42:function(e,t,n){e.exports={button:"SendMessage_button__1HAUT",form:"SendMessage_form__3-xvy"}}},[[247,1,2]]]);
//# sourceMappingURL=main.6b0dd3bb.chunk.js.map
{"version":3,"sources":["components/Searchable/Search/Search.module.css","components/UI/Card/Card.module.css","components/Searchable/Searchable/Searchable.module.css","components/UI/Button/Button.module.css","components/Navigation/Navigation.module.css","components/Find/Find.module.css","components/Popup/Popup.module.css","components/Add/Add.module.css","components/Groups/Group.module.css","components/Searchable/Display/Display.js","components/UI/Card/Card.js","components/Searchable/Search/Search.js","components/Searchable/Searchable/Searchable.js","components/Students/Student.js","components/UI/Button/Button.js","components/SendMessage/SendMessageButton.js","Context.js","components/Follow/FollowButton.js","components/Profile/CheckProfileButton.js","components/Students/StudentSearch.js","components/Groups/GroupMember.js","components/Groups/Group.js","components/Groups/GroupSearch.js","components/Navigation/Navigation.js","Images.js","components/Add/AddStudent.js","components/Find/Find.js","components/Add/AddGroup.js","components/Add/Add.js","components/Popup/Message.js","components/Popup/Popup.js","components/SendMessage/SendMessage.js","components/Login/Login.js","components/Profile/Profile.js","components/Follow/Following.js","App.js","reportWebVitals.js","index.js","components/Students/Student.module.css","components/SendMessage/SendMessage.module.css"],"names":["module","exports","Display","props","elems","Card","className","classes","card","children","Search","id","shortid","generate","searchbox","htmlFor","text","onChange","e","onFilterUpdate","target","value","trim","makeSearchable","prompt","filterElem","toComponent","useState","filter","setFilter","display","map","i","some","s","includes","searchable","Student","student","img","src","name","description","tags","subjects","Button","type","button","onClick","disabled","SendMessageButton","to","User","createContext","user","setUser","users","addUser","follows","dispatch","FollowButton","ctx","useContext","groups","Error","students","has","who","in","do","CheckProfileButton","studentAttributes","extendedStudentCard","StudentSearch","GroupMember","role","Group","g","group","members","sr","si","subject","extendedGroupCard","GroupSearch","flatMap","Navigation","nav","Consumer","username","newImageURL","a","fetch","then","r","url","AddStudent","useRef","nameRef","emailRef","descriptionRef","tagsRef","subjectsRef","onSubmit","event","preventDefault","current","email","split","finally","console","log","onNewStudent","ref","required","rows","Find","find","options","opt","AddGroup","submitHandler","state","groupName","length","onNewGroup","alert","addMember","setState","st","this","checked","addExisting","elements","selectedStudents","React","Component","Add","selection","setSelection","body","JSON","stringify","choice","Message","popup","Popup","duration","show","onClear","useEffect","setTimeout","ReactDOM","createPortal","document","getElementById","SendMessage","useParams","message","setMessage","setPopup","thing","form","autoFocus","Login","usernameRef","passwordRef","currentUser","submitType","nativeEvent","submitter","password","us","Set","Profile","Following","useLocalItems","storageName","defaults","parse","localStorage","getItem","item","setItems","items","newItems","setItem","followReducer","action","followSet","stc","add","delete","App","navigate","useNavigate","addStudent","setStudents","addGroup","setGroups","currentUserArr","setUsers","useReducer","userContext","useMemo","thenRedirect","f","arg","fetchJSON","filename","response","ok","json","error","fetchStudents","Promise","all","studentsWithPic","fetchGroups","Provider","path","element","exact","replace","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","createRoot","render","StrictMode","basename"],"mappings":"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","file":"static/js/main.8b0f1b50.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbox\":\"Search_searchbox__naNQ-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__1te4P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchable\":\"Searchable_searchable__1PYbh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2lgkF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navigation_nav__INfuO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"find\":\"Find_find__26ki8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popup\":\"Popup_popup__3TSql\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"choice\":\"Add_choice__XJtvp\",\"add-group\":\"Add_add-group__2CFX_\",\"current-members\":\"Add_current-members__28rxE\",\"select-student-type\":\"Add_select-student-type__ojU7t\",\"select-role\":\"Add_select-role__2xgZq\",\"add-student\":\"Add_add-student__2Ly-E\",\"find-student\":\"Add_find-student__2TLOq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"group-entry\":\"Group_group-entry__Zshr9\",\"group-card\":\"Group_group-card__1oueC\",\"group-member\":\"Group_group-member__s5tdK\"};","\nconst Display = (props) => {\n  return (\n    <div>\n      {props.elems}\n    </div>\n  );\n};\n\nexport default Display;","import classes from './Card.module.css';\n\nconst Card = (props) => (\n  <div className={`${classes.card} ${props.className}`}>{props.children}</div>\n);\n\nexport default Card;\n","import shortid from 'short-id';\nimport classes from './Search.module.css';\nimport Card from '../../UI/Card/Card';\n\nconst Search = (props) => {\n  const id = shortid.generate();\n\n  return (\n    <Card className={classes.searchbox}>\n      <label htmlFor={id}>{props.text}</label>\n      <input\n        id={id}\n        onChange={(e) => props.onFilterUpdate(e.target.value.trim())}\n      ></input>\n    </Card>\n  );\n};\n\nexport default Search;\n","import { useState } from 'react';\n\nimport Display from './../Display/Display';\nimport Search from './../Search/Search';\nimport Card from '../../UI/Card/Card';\nimport classes from './Searchable.module.css';\n\n\n// props.elems : [elem]\n// props.filter : elem -> [String]\n// props.toComponent : elem -> Component\n// Ooh, nice higher-order component.\nconst makeSearchable = (prompt, filterElem, toComponent) => (props) => {\n  const [filter, setFilter] = useState('');\n\n  // Fixed: during search, indexes would not match the given list and sending a message would redirect to another list.\n  // Extremely bad fix for not having IDs in a datatype.\n  let display = <p>Loading...</p>\n\n  if (props.elems) {\n    const elems = props.elems.map((e, i) => [e, i]).filter(([e]) => filterElem(e).some(s => s.includes(filter))).map(([e, i]) => toComponent(e, i));\n    display = <Display elems={elems} />\n  }\n\n  return (\n    <Card className={classes.searchable}>\n      <Search text={prompt} onFilterUpdate={setFilter} />\n      {display}\n    </Card>\n  );\n}\n\nexport default makeSearchable;","\nimport Card from '../UI/Card/Card';\nimport classes from './Student.module.css';\n\nconst Student = (props) => {\n  const s = props.student;\n\n  const img = s.img\n    ? <img src={s.img}></img>\n    : null;\n\n  return (\n    <Card className={classes['student-card']} >\n      <h2>{s.name}</h2>\n      <p>{s.description}</p>\n      <p>Tags: {s.tags}</p>\n      <p>Subjects: {s.subjects}</p>\n      {img}\n    </Card>\n  );\n};\n\nexport default Student;\n","import React from 'react';\n\nimport classes from './Button.module.css';\n\nconst Button = (props) => {\n  return (\n    <button\n      type={props.type || 'button'}\n      className={`${classes.button} ${props.className}`}\n      onClick={props.onClick}\n      disabled={props.disabled}\n\n      name={props.name ?? ''}\n      value={props.value ?? ''}\n    >\n      {props.children}\n    </button>\n  );\n};\n\nexport default Button;\n","import { Link } from \"react-router-dom\";\nimport Button from \"../UI/Button/Button\";\nimport classes from './SendMessage.module.css';\n\nconst SendMessageButton = (props) => {\n  return (\n    <Link to={`/${props.type}/${props.to}/send`}>\n      <Button className={`${classes.button} ${props.className}`}></Button>\n    </Link>\n  );\n};\n\nexport default SendMessageButton;\n","import { createContext } from \"react\";\n\n// User & context stuff.\nconst User = createContext({\n    user: null,\n    setUser: () => { },\n\n    // Kinda bad (also misleading context name), but whatever.\n    users: [],\n    addUser: () => { },\n\n    // Oh god, there's more.\n    follows: {},\n    dispatch: () => {}\n});\n\nexport default User;","import { useContext } from 'react';\nimport User from '../../Context';\nimport Button from '../UI/Button/Button';\n\n\nconst FollowButton = (props) => {\n    const ctx = useContext(User);\n\n    let follows;\n    if (props.type === 'group')\n        follows = ctx.follows.groups;\n    else if (props.type === 'student')\n        follows = ctx.follows.students;\n    else\n        throw new Error('Invalid type');\n\n    const isFollowing = follows.has(props.who);\n    const follow = () => {\n        ctx.dispatch({ in: props.type, do: 'add', value: props.who });\n    }\n\n    const unfollow = () => {\n        ctx.dispatch({ in: props.type, do: 'remove', value: props.who });\n    }\n\n    return isFollowing\n        ? <Button onClick={unfollow}>Unfollow</Button>\n        : <Button onClick={follow}>Follow</Button> \n};\n\nexport default FollowButton;","import Button from \"../UI/Button/Button\";\nimport { Link } from \"react-router-dom\";\n\nconst CheckProfileButton = (props) =>\n    <Link to={`/${props.to}/profile`}>\n        <Button>Check profile</Button>\n    </Link>;\n\nexport default CheckProfileButton;","\nimport makeSearchable from '../Searchable/Searchable/Searchable';\nimport Student from './Student';\nimport SendMessageButton from '../SendMessage/SendMessageButton';\nimport Card from '../UI/Card/Card';\nimport classes from './Student.module.css';\nimport FollowButton from '../Follow/FollowButton';\nimport CheckProfileButton from '../Profile/CheckProfileButton';\n\nconst studentAttributes = s => [s.description, ...s.tags, ...s.subjects];\n\nconst extendedStudentCard = (s, i) =>\n  <Card className={classes['student-entry']} key={'student-' + i}>\n    <Student student={s} />\n    <SendMessageButton type='student' to={i} />\n    <FollowButton type='student' who={s.name} />\n    <CheckProfileButton to={i} />\n  </Card>;\n\nconst StudentSearch = makeSearchable('Find students', studentAttributes, extendedStudentCard);\n\n\nexport { studentAttributes, extendedStudentCard };  // Also used in group search -> saves some time.\nexport default StudentSearch;","import Student from '../Students/Student';\nimport Card from '../UI/Card/Card';\nimport classes from './Group.module.css';\n\nconst GroupMember = (props) => (\n  <Card className={classes['group-member']}>\n    <h2>Role: {props.role}</h2>\n    <Student student={props.student} />\n  </Card>\n);\n\nexport default GroupMember;","import GroupMember from './GroupMember';\nimport Card from '../UI/Card/Card';\n\nimport classes from './Group.module.css';\n\nconst Group = (props) => {\n  const g = props.group;\n  return (\n    <Card className={classes['group-card']}>\n      <h1>Group: {g.name}</h1>\n      <Card>\n        <p>{g.description}</p>\n      </Card>\n      <Card>\n        <h2>Members</h2>\n        {g.members.map((sr, si) => (\n          <GroupMember\n            role={sr.role}\n            student={sr.student}\n            key={`group-${props.i}-student-${si}`}\n          />\n        ))}\n      </Card>\n      <Card>\n      <h2>Subject</h2>\n      <p>{g.subject}</p>\n      </Card>\n    </Card>\n  );\n};\n\nexport default Group;\n","import makeSearchable from '../Searchable/Searchable/Searchable';\nimport SendMessageButton from '../SendMessage/SendMessageButton';\nimport { studentAttributes } from '../Students/StudentSearch';\nimport Group from './Group';\nimport Card from '../UI/Card/Card';\nimport classes from './Group.module.css';\nimport FollowButton from '../Follow/FollowButton';\n\n\nconst groupAttributes = (g) => [\n  g.name,\n  g.description,\n  g.subject,\n  ...g.members.flatMap((sr) => [sr.role, ...studentAttributes(sr.student)]),\n];\n\nconst extendedGroupCard = (g, i) =>\n  <Card key={'group-' + i} className={classes['group-entry']}>\n    <Group group={g} i={i} />\n    <SendMessageButton className={classes['send-message-button']} type='group' to={i} />\n    <FollowButton type='group' who={g.name} />\n  </Card>\n\nconst GroupSearch = makeSearchable('Find groups:', groupAttributes, extendedGroupCard);\n\n\nexport { extendedGroupCard };\nexport default GroupSearch;\n","\nimport { Link } from 'react-router-dom';\nimport classes from './Navigation.module.css';\nimport Card from '../UI/Card/Card';\nimport User from '../../Context';\n\nconst Navigation = () => {\n  return (\n    <nav className={classes.nav}>\n      <Card>\n        <ul>\n          <li>\n            <Link to='/add'>\n              <button>Add Student/Group</button>\n            </Link>\n          </li>\n          <li>\n            <Link to='/students'>\n              <button>Students</button>\n            </Link>\n          </li>\n          <li>\n            <Link to='/groups'>\n              <button>Groups</button>\n            </Link>\n          </li>\n          <li>\n            <Link to='/login'>\n              <User.Consumer>\n                {ctx => ctx.username ? <button>{ctx.username}</button> : <button>Login</button> }\n              </User.Consumer>\n            </Link>\n          </li>\n          <li>\n            <Link to='/following'>\n              <button>Following</button>\n            </Link>\n          </li>\n        </ul>\n      </Card>\n    </nav>\n  );\n};\n\nexport default Navigation;","\nexport const newImageURL = async () => \n    await fetch('https://picsum.photos/70/100').then(r => r.url);","import { useRef } from 'react';\nimport Card from '../UI/Card/Card';\nimport Button from '../UI/Button/Button';\nimport classes from './Add.module.css';\nimport { newImageURL } from '../../Images';\n\nconst AddStudent = (props) => {\n  const submitHandler = (event) => {\n    event.preventDefault();\n\n    const student = {\n      name: nameRef.current.value,\n      email: emailRef.current.value,\n      description: descriptionRef.current.value,\n      tags: tagsRef.current.value.split(),\n      subjects: subjectsRef.current.value.split(),\n      img: null,\n    };\n\n    // Async URL-fetchin'\n    newImageURL().then(url => {\n      student.img = url;\n    }).finally(() => {\n      console.log(student);\n      props.onNewStudent(student);\n    });\n  };\n\n  // Just **ref** it up. I forgot JS has \"limited\" options when it comes to list creation. Basically: traverse (const useRef) [1..5]\n  // We're not going to use state and this single source of truth thingy, becuase we don't need it - HTML validation is enough.\n  const [nameRef, emailRef, descriptionRef, tagsRef, subjectsRef] = [\n    useRef(),\n    useRef(),\n    useRef(),\n    useRef(),\n    useRef(),\n  ];\n\n  // I would have abstracted the label-input pair to a different element called Input,\n  // but I'm *really* short on time.\n  return (\n    <form className={classes['add-student']} onSubmit={submitHandler}>\n      <Card>\n        <label htmlFor='student-name'>Name:</label>\n        <input id='student-name' type='text' ref={nameRef} required />\n      </Card>\n\n      <Card>\n        <label htmlFor='student-email'>Email:</label>\n        <input id='student-email' type='email' ref={emailRef} required />\n      </Card>\n\n      <Card>\n        <label htmlFor='student-description'>Description:</label>\n        <br />\n        <textarea\n          id='student-description'\n          rows='5'\n          ref={descriptionRef}\n          required\n        />\n      </Card>\n\n      <Card>\n        <label htmlFor='student-tags'>Tags:</label>\n        <input id='student-tags' type='text' ref={tagsRef} required />\n      </Card>\n\n      <Card>\n        <label htmlFor='student-subjects'>Subjects:</label>\n        <input id='student-subjects' type='text' ref={subjectsRef} required />\n      </Card>\n\n      <center>\n        <Button type='submit'>Add student</Button>\n      </center>\n    </form>\n  );\n};\n\nexport default AddStudent;\n","import classes from './Find.module.css';\n\nconst Find = (props) => {\n  return (\n    <select className={`${classes.find} ${props.className}`} name={props.name} required>\n      {props.options.map((opt, i) => (\n        <option key={props.name + '-select-' + i} value={i}>{opt}</option>\n      ))}\n    </select>\n  );\n};\n\nexport default Find;\n","import React from \"react\";\nimport GroupMember from \"../Groups/GroupMember\";\nimport AddStudent from \"./AddStudent\";\nimport Find from \"../Find/Find\";\nimport Card from \"../UI/Card/Card\";\nimport Button from \"../UI/Button/Button\";\nimport classes from './Add.module.css';\n\n\nclass AddGroup extends React.Component {\n  constructor(props) {\n    super(props);\n\n    // Two-way binding for shits and giggles. I don't really need it. Refs are enough.\n    this.state = {\n      groupName: '',\n      description: '',\n      subject: '',\n\n      members: [],\n\n      role: '' \n    };\n  }\n\n  submitHandler = (event) => {\n    event.preventDefault();\n\n    const { groupName, description, subject, members } = this.state;\n    const group = {\n      name: groupName,\n      description: description,\n      subject: subject,\n      members: members\n    };\n\n    if (members.length === 0) {\n      alert('Groups with no members are not allowed.');\n      return;\n    }\n\n    this.props.onNewGroup(group);\n  }\n\n\n  addMember = (student) => {\n    if (this.state.members.length >= 5) {\n      alert('Can\\'t add another member.');\n      return;\n    }\n\n    if (this.state.role.trim().length === 0) {\n      alert('A group member must have a role.');\n      return;\n    }\n\n    console.log(student);\n    console.log(this.state.members);\n\n    \n    this.setState(st => ({ members: [...st.members, { role: st.role, student: student }], role: '' }));\n  }\n\n  render() {\n    return (\n      <>\n        <form className={classes['add-group']} onSubmit={this.submitHandler}>\n          <center>\n            <Button>Create group</Button>\n          </center>\n\n          <Card>\n            <label htmlFor='group-name'>Name:</label>\n            <input id='group-name' type='text' value={this.state.groupName} onChange={(event) => this.setState({ groupName: event.target.value })} required />\n          </Card>\n\n          <Card>\n            <label htmlFor='group-description'>Description:</label>\n            <br />\n            <textarea\n              id='group-description'\n              rows='5'\n              value={this.state.description}\n              onChange={(event) => this.setState({ description: event.target.value })}\n              required\n            />\n          </Card>\n\n          <Card>\n            <label htmlFor='group-subject'>Subject:</label>\n            <input id='group-subject' type='text' value={this.state.subject} onChange={(event) => this.setState({ subject: event.target.value })} required />\n          </Card>\n\n          <Card className={classes['current-members']}>\n            <h2>Current students</h2>\n            {this.state.members.length === 0 ? <p>None</p> : null}\n            {this.state.members.map((sr, i) => <GroupMember student={sr.student} role={sr.role} key={'member-' + i} />)}\n          </Card>\n        </form>\n\n        <Card>\n          <h2>Add student to the group</h2>\n          <Card className={classes['select-student-type']}>\n            <label htmlFor='radio_existing'>Choose existing</label>\n            <input id='radio_existing' name='existingOrNew' type='radio' checked={this.state.addExisting} onChange={() => this.setState(st => ({ addExisting: true }))}  />\n\n            <label htmlFor='radio_new'>Create new</label>\n            <input id='radio_new' name='existingOrNew' type='radio' checked={!this.state.addExisting} onChange={() => this.setState(st => ({ addExisting: false }))} />\n          </Card>\n\n          <Card className={classes['select-role']}>\n            <label htmlFor='member-role'>Role:</label>\n            <input id='member-role' type='text' value={this.state.role} onChange={(event) => this.setState({ role: event.target.value })} required />\n          </Card>\n          \n          {\n            !this.state.addExisting\n            ? <AddStudent onNewStudent={this.addMember} />\n            : <form className={classes['find-student']} onSubmit={event => { event.preventDefault(); \n            this.addMember(this.props.students[+event.target.elements.selectedStudents.value]); }}>\n                <Find name='selectedStudents' options={this.props.students.filter(s => !this.state.members.map(sr => sr.student).includes(s)).map(s => `${s.name}: ${s.subjects}`)} />\n                <Button type='submit'>Add student</Button>\n              </form>\n          }\n        </Card>\n      </>\n    );\n  }\n}\n\nexport default AddGroup;","import { useState } from 'react';\n\nimport AddGroup from './AddGroup';\nimport AddStudent from './AddStudent';\nimport Card from '../UI/Card/Card';\nimport classes from './Add.module.css';\n\n\nconst Add = (props) => {\n  const [selection, setSelection] = useState(props.selection ?? null);\n\n  let body = null;\n  if (selection === 'student')\n    body = (<AddStudent onNewStudent={props.onNewStudent} />);\n  else if (selection === 'group')\n    body = (<AddGroup onNewGroup={g => { alert(JSON.stringify(g)); props.onNewGroup(g); } } students={props.students} />);\n  \n\n  return (\n    <Card>\n      {/* Mothafucka is two-way bound. */}\n      <center className={classes.choice}>\n        <label htmlFor='radio_student'>Student</label>\n        <input id='radio_student' name='studentOrGroup' type='radio' checked={selection === 'student'} onChange={() => setSelection('student')}  />\n        \n        <label htmlFor='radio_group'>Group</label>\n        <input id='radio_group' name='studentOrGroup' type='radio' checked={selection === 'group'} onChange={() => setSelection('group')} />\n      </center>\n      {body}\n    </Card>\n  );\n};\n\nexport default Add;\n","import classes from './Popup.module.css';\nimport Card from '../UI/Card/Card';\n\nconst Message = ({ text }) => {\n  return <Card className={classes.popup}>{text}</Card>;\n}\n\nexport default Message;","import { useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport Message from  './Message';\n\n\n// This actuator thing is pretty bad :)\nconst Popup = ({ text, duration, show, onClear }) => {\n  useEffect(() => {\n    if (!show)\n      return;\n    \n    setTimeout(() => {\n      onClear();\n    }, duration);\n  }, [duration, show, onClear]);\n\n  return ReactDOM.createPortal(\n    show && <Message text={text} />, document.getElementById('popup-holder')\n  ); \n}\n\nexport default Popup;","import { useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport Student from '../Students/Student';\nimport Group from '../Groups/Group';\nimport Popup from '../Popup/Popup';\nimport classes from './SendMessage.module.css';\nimport Button from '../UI/Button/Button';\n\n\nconst SendMessage = (props) => {\n  const { type, id } = useParams();\n  const [message, setMessage] = useState('');\n  const [popup, setPopup] = useState(false);\n\n  const sendMessage = (message) => {\n    setPopup(true);\n  };\n\n  const onSubmit = (event) => {\n    event.preventDefault();\n    sendMessage(message);\n    setMessage('');\n  };\n\n  // Nice name.\n  let thing = null;\n  switch (type) {\n    case 'student':\n      thing = <Student student={props.students[+id]} />;\n      break;\n\n    case 'group':\n      thing = <Group group={props.groups[+id]} />;\n      break;\n\n    default:\n  }\n\n  return (\n    <div>\n      <Popup text={`Message sent to ${type}.`} duration=\"2000\" show={popup} onClear={() => setPopup(false)}  />\n      <center>\n        <div>{thing}</div>\n        <form className={classes.form} onSubmit={onSubmit}>\n          <textarea\n            id='group-description'\n            rows='5'\n            value={message}\n            onChange={(event) => {\n              setMessage(event.target.value);\n            }}\n            required\n            autoFocus\n          />\n\n          <br></br>\n          <Button type='submit'>Send</Button>\n        </form>\n      </center>\n    </div>\n  );\n};\n\nexport default SendMessage;\n","import { useContext, useRef } from 'react';\n\nimport Card from '../UI/Card/Card';\nimport Button from '../UI/Button/Button';\nimport User from '../../Context';\n\n\n// Named \"Login\", but actually Login + Register.\nconst Login = () => {\n    const ctx = useContext(User);\n\n    const usernameRef = useRef();\n    const passwordRef = useRef();\n\n    const onLogin = (event) => {\n        event.preventDefault();\n\n        // Magick.\n        const submitType = event.nativeEvent.submitter.value;\n        const username = usernameRef.current.value;\n        const password = passwordRef.current.value;\n\n        console.log(submitType);\n\n        // Very, and I mean *VERY* simple login.\n        switch (submitType) {\n            case 'login': {\n                const user = ctx.users.filter(us => us.username === username && us.password === password)[0];\n                if (!user) {\n                    alert('Invalid credentials.');\n                    break;\n                }\n\n                // Heh, that's pretty bad.\n                ctx.setUser(user);\n\n                break;\n            }\n\n            case 'register': {\n                const user = { username: username, password: password, follows: new Set() };\n                ctx.addUser(user);\n                ctx.setUser(user);\n                break;\n            }\n\n            default:\n        }\n    }\n\n    const user = ctx.currentUser;\n\n    let page = user\n        ? <Card>\n            <p>Logged in as {user.username}.</p>\n            <Button onClick={() => ctx.setUser(null)}>Logout</Button>\n          </Card>\n        : <Card>\n            <form onSubmit={onLogin}>\n                <input ref={usernameRef} type='text'></input>\n                <br />\n                <input ref={passwordRef} id='login-password' type='password'></input>\n                <br />\n                <Button type='submit' name='action' value='login' >Login</Button>\n                <Button type='submit' name='action' value='register' >Register</Button>\n            </form>\n        </Card>\n\n    return page;\n};\n\nexport default Login;","import Student from \"../Students/Student\";\nimport { useParams } from \"react-router-dom\";\n\n\nconst Profile = (props) => {\n    const { id } = useParams();\n\n    const student = props.students[id];\n\n    return !student\n        ? <p>Invalid ID.</p>\n        : <center><Student student={student} /></center>\n};\n\nexport default Profile;","import Card from \"../UI/Card/Card\";\nimport { extendedStudentCard } from \"../Students/StudentSearch\";\nimport { extendedGroupCard } from \"../Groups/GroupSearch\";\n\nconst Following = (props) =>\n    <>\n        <Card>\n            <h1>Students</h1>\n            {props.students.map(extendedStudentCard)}\n        </Card>\n        <Card>\n            <h1>Groups</h1>\n            {props.groups.map(extendedGroupCard)}\n        </Card>\n    </>;\n\nexport default Following;","import React, { useEffect, useState, useMemo, useReducer } from 'react';\n\nimport './App.css';\n\nimport StudentSearch from './components/Students/StudentSearch';\nimport GroupSearch from './components/Groups/GroupSearch';\nimport Navigation from './components/Navigation/Navigation';\nimport Add from './components/Add/Add';\nimport SendMessage from './components/SendMessage/SendMessage';\nimport Login from './components/Login/Login';\nimport User from './Context';\nimport { newImageURL } from './Images';\nimport Profile from './components/Profile/Profile';\nimport Following from './components/Follow/Following';\n\nimport { Routes, Route, Navigate, useNavigate } from 'react-router-dom';\n\n\n// Kinda bad - we can't really check the *real* base URL, so this\n// constant mitigates it.\nconst baseURL = '/PIWbois/3/std-prjs/build';\n\n\n// Helps me store (((persistent))) data.\nconst useLocalItems = (storageName, defaults) => {\n  const [item, setItems] = useState(JSON.parse(localStorage.getItem(storageName)) ?? defaults);\n  const addItem = (item) => setItems(items => {\n    const newItems = [...items, item];\n\n    localStorage.setItem(storageName, JSON.stringify(newItems));\n    return newItems;\n  });\n\n  const newSetItems = (items) => {\n    setItems(items);\n    localStorage.setItem(storageName, JSON.stringify(items));\n  };\n\n  return [item, addItem, newSetItems];\n};\n\nconst followReducer = (state, action) => {\n  let stc = { students: new Set(state.students), groups: new Set(state.groups) }\n  \n  let followSet;\n  switch (action.in) {\n    case 'student':\n      followSet = stc.students;\n      break;\n    \n    case 'group':\n      followSet = stc.groups;\n      break;\n    \n    default:\n      throw new Error(`Invalid dispatch type ${action.in}.`);\n  }\n\n  switch (action.do) {\n    case 'add':\n      followSet.add(action.value);\n      break;\n\n    case 'remove':\n      followSet.delete(action.value);\n      break;\n    \n    default:\n      throw new Error(`Invalid action ${action.do}.`);\n  }\n\n  return stc;\n}\n\nfunction App() {\n  const navigate = useNavigate();\n  const [students, addStudent, setStudents] = useLocalItems('students', null);\n  const [groups, addGroup, setGroups] = useLocalItems('groups', null);\n\n  // User.\n  const [currentUserArr, , setUsers] = useLocalItems('currentUser', []);\n  const [users, addUser] = useLocalItems('users', []);\n\n  const setUser = (user) => setUsers([user]);\n  const currentUser = currentUserArr[0] ?? null;\n  console.log(currentUser);\n\n  // We use a global follow list, because... I'm just tired, man.\n  const [follows, dispatch] = useReducer(followReducer, { students: new Set(), groups: new Set() });\n\n  const userContext = useMemo(\n    () => ({ currentUser, setUser, users, addUser, follows, dispatch }),\n    [currentUser, users, follows]\n  );\n\n  const thenRedirect = (f, to) => (arg) => {\n    f(arg);\n    navigate(to);\n  }\n\n  // Fetch \"external\" data.\n  const fetchJSON = async (filename) => {\n    try {\n      const response = await fetch(`${baseURL}/data/${filename}`);\n\n      return response.ok\n        ? await response.json()\n        : null;\n    } catch (e) {\n      console.error(e);\n      return null;\n    }\n  }\n\n  useEffect(() => {\n    const fetchStudents = async () => {\n      const students = await fetchJSON('students.json');\n\n      const studentsWithPic = await Promise.all(students.map(async s => {\n        const img = await newImageURL();\n        return { ...s, img: img };\n      }));\n\n      setStudents(studentsWithPic);\n    }\n\n    const fetchGroups = async () => {\n      const groups = await fetchJSON('groups.json');\n      setGroups(groups);\n    }\n\n    if (!students) fetchStudents();\n    if (!groups) fetchGroups();\n  }, []);  // Empty on purpose - the suggestion \"setGroups\" and \"setStudents\" is *wrong* - this causes a rerendering loop, where data is fetched constantly.\n\n  return (\n    <User.Provider value={userContext}>\n      <div className='App'>\n        <header>\n          <Navigation />\n        </header>\n\n        <main>\n          <Routes>\n            <Route path='/students' element={<StudentSearch elems={students} />} />\n            <Route path='/groups' element={<GroupSearch elems={groups} />} />\n            <Route path='/add' element={<Add onNewStudent={thenRedirect(addStudent, '/students')} onNewGroup={thenRedirect(addGroup, '/groups')} students={students} />} />\n            <Route path='/:type/:id/send' element={students && groups ? <SendMessage students={students} groups={groups} /> : <p>Loading st00d</p>} />\n            <Route path='/login' element={<Login />} />\n            <Route path='/:id/profile' element={students && <Profile students={students} />} />\n            <Route path='/following' element={<Following students={students.filter(s => follows.students.has(s.name))} groups={groups.filter(g => follows.groups.has(g.name))} />} />\n\n            {/* Default \"site\" is the student search. */}\n            <Route exact path='/' element={<Navigate replace to='/students' />} />\n          </Routes>\n        </main>\n      </div>\n    </User.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <BrowserRouter basename='/PIWbois/3/std-prjs/build/'>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"student-card\":\"Student_student-card__2z8Nu\",\"student-entry\":\"Student_student-entry__1pg5c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"SendMessage_button__2aYM3\",\"form\":\"SendMessage_form__3Cl9H\"};"],"sourceRoot":""}